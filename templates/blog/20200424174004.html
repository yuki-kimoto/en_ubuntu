<h2>apache2のインストール - WebサーバーであるApacheのバージョン2系</h2>

WebサーバーであるApacheをaptコマンドを使って、インストールしましょう。現在のApacheのバージョンは2系です(2020年5月16日現在)。

<pre>
sudo apt install apache2
</pre>

Apacheは、Webサーバーとして、実績があり、広く利用されており、ドキュメントが豊富です。

初心者が最初に覚えるWebサーバーとしてピッタリです。

静的ファイルを高速に配信したい、速いリバースプロキシが欲しい、という要望が最初からあるときは、nginx(エンジンエックス)の採用も検討してみてください。

<h4>Apacheがインストールされたことの確認</h4>

Apacheがインストールされたことを確認しましょう。

<pre>
apache2 -v
</pre>

以下のようにApacheのバージョンが表示されます。

<pre>
Server version: Apache/2.4.29 (Ubuntu)
Server built:   2020-03-13T12:26:16
</pre>

<h3>HTTPSで通信できるようにmod_sslを有効化</h3>

HTTPSで通信できるようにmod_sslを有効化しておきましょう。a2enmodというのは、「Apache2 Enable Module」の略のようです。

<pre>
sudo a2enmod ssl
</pre>

a2enmodコマンドは、利用可能なモジュールから、指定したモジュールの読み込みを有効にするものです。

設定ファイルの有効化が、ファイル編集なしで、コマンドだけで、完結します。

動作を理解するために、<a href="https://linux.perlzemi.com/blog/20191126082723.html">lsコマンド</a>で、Apacheの設定ファイルのディレクトリを見てみましょう。

<pre>
ls /etc/apache2
</pre>

以下です。

<pre>
apache2.conf    conf-enabled  magic           mods-enabled  sites-available
conf-available  envvars       mods-available  ports.conf    sites-enabled
</pre>

「mods-available」の中に、ssl.confというファイルがあります。lsとgrepで確認します。

<pre>
ls /etc/apache2/mods-available | grep ssl
</pre>

確かに「ssl.conf」があります。

<pre>
ssl.conf
ssl.load
</pre>

「mods-enabled」の中も見てみましょう。こちらは実際に読み込まれる設定ファイルです。

<pre>
ls /etc/apache2/mods-enabled | grep ssl
</pre>

「ssl.conf」があります。

<pre>
ssl.conf
ssl.load
</pre>

「mods-enabled」の中に、設定ファイルが存在するかどうかで、有効/無効の切り替えを行っているんですね。

Apacheの再起動後に有効になります。
